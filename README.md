# Introduction

This is the MS Visual Studio 2022 solution containing the Maxwell's Demon mobile phone game Project. It is a casual game which has so far only been released for Android (intended specifically for Android phones). But I intend to eventually release an iOS version too. The code changes needed for this will hopefully be minor, but the release process will be long-winded. Hence I haven't done it yet.

# The Code

This section describes, in broad terms, the structure of the code.

#### XAML

The MS Visual Studio solution contains a single project called DemonMaxwellGame. This project was developed starting from the basic .NET MAUI project that is provided by Microsoft. In the MainPage.xaml file it uses the *Grid* control to layout the game. There is a main grid control which contains sub-grids. The sub-grid at the top contains the scoreboard. The larger one below contains the gameplay area.

#### Resources

The game consists of 23 levels (including the "you have finished the game" level at the end) and each level has an associated background image, stored as a .jpg file. These are in Resources/Raw. Their naming format is bgd_lvl_XX.jpg, where XX is the 2 digit level number.

One of the features of the scoreboard at the top is a simulation of a mechanical signboard (the kind of thing that used to be used in railway stations) whereby as each number changes, the digits flip as if they are written on mechanical flaps. The graphics for this feature are also stored in Resources/Raw as .png files. Those are the .png files beginning with 'd'.

Each level consists of a set of walls and balls. The configuration of these items for each level are stored in a .dat file for each level, named level_XX.dat, where XX is the 2 digit level number.

Images that are used by the XAML code are stored as .png files in the Resources/Images folder.

#### C Sharp Code

The structure of the source code starts with the MainPage.xaml.cs file. This file handles user input (touches) and sets up a timer which forms the main loops of the game. The timer fires 25 times per second and calls all of the code to draw the game and update it. The MainPage class also owns the Drawable objects whose classes are defined in the .cs files in the Drawables folder. There is a Drawable for the main game, a Drawable to represent numbers in the scoreboard and another to represent the analogue clock.

The DemMaxGame.cs file defines the DemMaxGame class which is instantiated as a singleton and encapsulates the entire game. It owns arrays of Wall and Ball objects that represent the walls that are drawn in static locations on each level and the balls that move around. The walls come in varieties: horizontal, vertical, straight, arc and box. There is also a parabola type that is not yet used. Each wall type has its own class, all derived from the WallBase base class.

Coordinates and type of walls and balls are stored in human-readable form in the level_XX.dat files, and the DemMaxGame class has a method for reading these files. They were generated by a separate application called DemonMaxwellGameLevelCreator (also stored here in GitHub) which I wrote to run as a Windows Forms application. It allows walls and balls to be visually placed and moved around on the screen for each level.

#### End

This has been a very brief overview of the general structure of the code.
